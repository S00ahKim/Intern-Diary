# 2020년 6월 2일

### 호스트
- 네트워크에 연결된 모든 종류의 장치 => 노드(Node)
- 네트워크 주소(IP 주소)가 할당된 노드 => 호스트(Host)

스마트폰이든 데스크톱이든 노트북이든 인터넷에 연결돼 있으면 다 호스트라고 보면 된다. 이 호스트들끼리 서로 데이터를 주고받는다. 실제로 데이터를 주고받는 것은 호스트 내 "프로세스". 프로세스에는 프로그램, 애플리케이션, 앱, 소프트웨어를 통칭. 네트워크 공간 상에서 데이터를 주고받는다는 것은 호스트의 프로세스까지 데이터가 오고감을 말하는 것이다. 

여기에서 알 수 있는 것은?
- 호스트에서는 여러 프로세스가 동시에 동작한다.


### 포트
데이터가 호스트에 도착하는 것이 일의 종료가 아니다. 데이터를 필요로 하는 프로세스까지 데이터가 전달되어야 한다. 그래서 필요한 것이 바로 "포트"이다. 한마디로 포트는 네트워크를 통해 데이터를 주고받는 프로세스를 식별하기 위해 호스트 내부적으로 프로세스가 할당받는 고유한 값이다. 식별용이기 때문에 데이터를 받는 것 뿐 아니라, 보낼 때에도 포트 번호가 필요하다.


### 소켓
TCP/IP로 통신하는 컴퓨터가 가지는 네트워크 내 주소에 해당하는 IP주소와 IP주소의 서브 주소인 포트번호를 조합한 네트워크 주소를 말한다.

소켓은 네트워크에서 서버, 클라이언트가 특정 포트를 통해 양방향 통신이 가능하게 하는 소프트웨어 장치이다. (버클리에서 유닉스용으로 개발됨) 어떻게? 소켓은 프로세스가 네트워크를 통해 데이터를 주고받으려면 반드시 열어야 하는 창구 같은 것이다. 그래서 통신 접속점 / 통로 라는 표현도 쓴다. 일종의 인터페이스.

보내는 쪽도 받는 쪽도 소켓을 열어둬야 한다. 창구를 열고 그 창구로 데이터를 보내면, 목적지 호스트에 데이터가 도착하게 되고, 포트 번호에 맞는 프로세스를 찾아서 프로세스의 소켓을 통해 프로세스에 데이터를 전달한다.

소켓을 열기 위해서는 호스트에 할당된 IP주소, 포트넘버, 프로토콜이 필요하다. 이 세가지가 소켓을 정의한다. 단, 이것이 소켓을 유일하게 식별하지는 않는다.


### 소켓과 포트의 다른점
프로세스가 네트워크 통신을 하려면 포트를 할당받는데, 서버의 경우에는 보통 하나만 할당받는다. 왜냐하면 같은 프로세스가 같은 포트를 갖고도 여러개의 소켓을 열 수 있기 때문.

하나의 프로세스는 같은 프로토콜, 같은 아이피, 같은 포트를 갖는 수십 수백개의 소켓을 가질 수 있다!!!!!!! 그래서 하나의 프로세스는 하나의 포트로 다른 호스트의 프로세스 요청 처리 가능. 게임 동시접속이 몇만명 될 수 있는 이유다.


### 위 내용은 전체적으로, 전송 계층을 설명한 것이다!
TCP/IP의 응용 계층 바로 아래에 소켓 계층을 만들어서 응용 하단의 자세한 내용을 몰라도(인터넷의 복잡한 하부구조에 대한 지식 없이도) 소켓을 사용해서 네트워크 프로그램 개발 가능

[출처](https://blockdmask.tistory.com/169)

> 따라서 프로토콜은 전송계층에서 사용하는 프로토콜이다. TCP, UDP같은 것.  프로토콜의 헤더에다가 포트넘버를 적어준다. TCP헤더, UDP헤더.

cf. 서로 다른 프로세스에서 같은 포트를 여는 방법도 있다고 한다.

[이 블로그가 정말 좋아서 참고해서 정리함.](https://blog.naver.com/myca11/221389847130)

[자바 안에서의 소켓](https://juyoung-1008.tistory.com/19)

[오라클 자바 튜토리얼의 번역](https://www.daleseo.com/what-is-a-socket/)

[안드로이드에서의 소켓](https://qlyh8.tistory.com/86)

[간단한 도식화?](https://song-yoshiii.tistory.com/3)

[리눅스에서의 소켓](https://qmffor09.tistory.com/8) 